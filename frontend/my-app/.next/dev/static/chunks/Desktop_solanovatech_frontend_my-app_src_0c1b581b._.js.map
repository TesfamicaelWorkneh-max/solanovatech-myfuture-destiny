{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/voltage/Desktop/solanovatech/frontend/my-app/src/lib/api.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nexport const API_URL =\r\n  process.env.NEXT_PUBLIC_API_URL || \"http://localhost:5000/api\";\r\n\r\nexport const api = axios.create({\r\n  baseURL: API_URL,\r\n  headers: {\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n  withCredentials: true,\r\n});\r\n\r\n// Request interceptor to add token\r\napi.interceptors.request.use(\r\n  (config) => {\r\n    if (typeof window !== \"undefined\") {\r\n      const token = localStorage.getItem(\"token\");\r\n      if (token) {\r\n        config.headers.Authorization = `Bearer ${token}`;\r\n      }\r\n    }\r\n    return config;\r\n  },\r\n  (error) => Promise.reject(error),\r\n);\r\n\r\n// Response interceptor for error handling\r\napi.interceptors.response.use(\r\n  (response) => response,\r\n  (error) => {\r\n    if (error.response?.status === 401) {\r\n      if (typeof window !== \"undefined\") {\r\n        localStorage.removeItem(\"token\");\r\n        localStorage.removeItem(\"user\");\r\n      }\r\n      window.location.href = \"/login\";\r\n    }\r\n    return Promise.reject(error);\r\n  },\r\n);\r\n"],"names":[],"mappings":";;;;;;AAGE;AAHF;;AAEO,MAAM,UACX,iEAAmC;AAE9B,MAAM,MAAM,uMAAK,CAAC,MAAM,CAAC;IAC9B,SAAS;IACT,SAAS;QACP,gBAAgB;IAClB;IACA,iBAAiB;AACnB;AAEA,mCAAmC;AACnC,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAC1B,CAAC;IACC,wCAAmC;QACjC,MAAM,QAAQ,aAAa,OAAO,CAAC;QACnC,IAAI,OAAO;YACT,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;QAClD;IACF;IACA,OAAO;AACT,GACA,CAAC,QAAU,QAAQ,MAAM,CAAC;AAG5B,0CAA0C;AAC1C,IAAI,YAAY,CAAC,QAAQ,CAAC,GAAG,CAC3B,CAAC,WAAa,UACd,CAAC;IACC,IAAI,MAAM,QAAQ,EAAE,WAAW,KAAK;QAClC,wCAAmC;YACjC,aAAa,UAAU,CAAC;YACxB,aAAa,UAAU,CAAC;QAC1B;QACA,OAAO,QAAQ,CAAC,IAAI,GAAG;IACzB;IACA,OAAO,QAAQ,MAAM,CAAC;AACxB"}},
    {"offset": {"line": 49, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/voltage/Desktop/solanovatech/frontend/my-app/src/app/register/page.js"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport Link from \"next/link\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { zodResolver } from \"@hookform/resolvers/zod\";\r\nimport { z } from \"zod\";\r\nimport { api } from \"@/lib/api\";\r\nimport toast from \"react-hot-toast\";\r\nimport { UserPlus } from \"lucide-react\";\r\n\r\nconst registerSchema = z\r\n  .object({\r\n    name: z.string().min(2, \"Name must be at least 2 characters\"),\r\n    email: z.string().email(\"Invalid email address\"),\r\n    password: z.string().min(6, \"Password must be at least 6 characters\"),\r\n    confirmPassword: z.string(),\r\n    phone: z.string().optional(),\r\n    role: z.enum([\"user\", \"owner\"]),\r\n  })\r\n  .refine((data) => data.password === data.confirmPassword, {\r\n    message: \"Passwords don't match\",\r\n    path: [\"confirmPassword\"],\r\n  });\r\n\r\nexport default function RegisterPage() {\r\n  const router = useRouter();\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n  } = useForm({\r\n    resolver: zodResolver(registerSchema),\r\n    defaultValues: {\r\n      role: \"user\",\r\n    },\r\n  });\r\n\r\n  const onSubmit = async (data) => {\r\n    setIsLoading(true);\r\n    try {\r\n      const { confirmPassword, ...registerData } = data;\r\n      await api.post(\"/auth/register\", registerData);\r\n\r\n      toast.success(\"Registration successful! Please login.\");\r\n      router.push(\"/login\");\r\n    } catch (error) {\r\n      toast.error(error.response?.data?.message || \"Registration failed\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-md mx-auto\">\r\n      <div className=\"text-center mb-8\">\r\n        <UserPlus className=\"w-12 h-12 text-primary-600 mx-auto mb-4\" />\r\n        <h1 className=\"text-3xl font-bold text-gray-900\">Create Account</h1>\r\n        <p className=\"text-gray-600 mt-2\">Join our property platform</p>\r\n      </div>\r\n\r\n      <div className=\"card p-6\">\r\n        <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-6\">\r\n          <div>\r\n            <label className=\"label\">Full Name</label>\r\n            <input\r\n              type=\"text\"\r\n              className=\"input-field\"\r\n              placeholder=\"Enter your full name\"\r\n              {...register(\"name\")}\r\n            />\r\n            {errors.name && (\r\n              <p className=\"mt-1 text-sm text-red-600\">{errors.name.message}</p>\r\n            )}\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"label\">Email</label>\r\n            <input\r\n              type=\"email\"\r\n              className=\"input-field\"\r\n              placeholder=\"Enter your email\"\r\n              {...register(\"email\")}\r\n            />\r\n            {errors.email && (\r\n              <p className=\"mt-1 text-sm text-red-600\">\r\n                {errors.email.message}\r\n              </p>\r\n            )}\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"label\">Phone Number (Optional)</label>\r\n            <input\r\n              type=\"tel\"\r\n              className=\"input-field\"\r\n              placeholder=\"Enter your phone number\"\r\n              {...register(\"phone\")}\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"label\">Account Type</label>\r\n            <div className=\"flex space-x-4\">\r\n              <label className=\"flex items-center\">\r\n                <input\r\n                  type=\"radio\"\r\n                  value=\"user\"\r\n                  {...register(\"role\")}\r\n                  className=\"mr-2\"\r\n                />\r\n                <span>Regular User</span>\r\n              </label>\r\n              <label className=\"flex items-center\">\r\n                <input\r\n                  type=\"radio\"\r\n                  value=\"owner\"\r\n                  {...register(\"role\")}\r\n                  className=\"mr-2\"\r\n                />\r\n                <span>Property Owner</span>\r\n              </label>\r\n            </div>\r\n            {errors.role && (\r\n              <p className=\"mt-1 text-sm text-red-600\">{errors.role.message}</p>\r\n            )}\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"label\">Password</label>\r\n            <input\r\n              type=\"password\"\r\n              className=\"input-field\"\r\n              placeholder=\"Enter your password\"\r\n              {...register(\"password\")}\r\n            />\r\n            {errors.password && (\r\n              <p className=\"mt-1 text-sm text-red-600\">\r\n                {errors.password.message}\r\n              </p>\r\n            )}\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"label\">Confirm Password</label>\r\n            <input\r\n              type=\"password\"\r\n              className=\"input-field\"\r\n              placeholder=\"Confirm your password\"\r\n              {...register(\"confirmPassword\")}\r\n            />\r\n            {errors.confirmPassword && (\r\n              <p className=\"mt-1 text-sm text-red-600\">\r\n                {errors.confirmPassword.message}\r\n              </p>\r\n            )}\r\n          </div>\r\n\r\n          <button\r\n            type=\"submit\"\r\n            disabled={isLoading}\r\n            className=\"btn-primary w-full\"\r\n          >\r\n            {isLoading ? \"Creating account...\" : \"Create Account\"}\r\n          </button>\r\n        </form>\r\n\r\n        <div className=\"mt-6 text-center\">\r\n          <p className=\"text-gray-600\">\r\n            Already have an account?{\" \"}\r\n            <Link\r\n              href=\"/login\"\r\n              className=\"text-primary-600 hover:text-primary-800\"\r\n            >\r\n              Login here\r\n            </Link>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}