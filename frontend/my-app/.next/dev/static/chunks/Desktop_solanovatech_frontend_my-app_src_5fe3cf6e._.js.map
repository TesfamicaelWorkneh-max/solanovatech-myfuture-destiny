{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/voltage/Desktop/solanovatech/frontend/my-app/src/lib/api.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nexport const API_URL =\r\n  process.env.NEXT_PUBLIC_API_URL || \"http://localhost:5000/api\";\r\n\r\nexport const api = axios.create({\r\n  baseURL: API_URL,\r\n  headers: {\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n  withCredentials: true,\r\n});\r\n\r\n// Request interceptor to add token\r\napi.interceptors.request.use(\r\n  (config) => {\r\n    if (typeof window !== \"undefined\") {\r\n      const token = localStorage.getItem(\"token\");\r\n      if (token) {\r\n        config.headers.Authorization = `Bearer ${token}`;\r\n      }\r\n    }\r\n    return config;\r\n  },\r\n  (error) => Promise.reject(error),\r\n);\r\n\r\n// Response interceptor for error handling\r\napi.interceptors.response.use(\r\n  (response) => response,\r\n  (error) => {\r\n    if (error.response?.status === 401) {\r\n      if (typeof window !== \"undefined\") {\r\n        localStorage.removeItem(\"token\");\r\n        localStorage.removeItem(\"user\");\r\n      }\r\n      window.location.href = \"/login\";\r\n    }\r\n    return Promise.reject(error);\r\n  },\r\n);\r\n"],"names":[],"mappings":";;;;;;AAGE;AAHF;;AAEO,MAAM,UACX,iEAAmC;AAE9B,MAAM,MAAM,uMAAK,CAAC,MAAM,CAAC;IAC9B,SAAS;IACT,SAAS;QACP,gBAAgB;IAClB;IACA,iBAAiB;AACnB;AAEA,mCAAmC;AACnC,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAC1B,CAAC;IACC,wCAAmC;QACjC,MAAM,QAAQ,aAAa,OAAO,CAAC;QACnC,IAAI,OAAO;YACT,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;QAClD;IACF;IACA,OAAO;AACT,GACA,CAAC,QAAU,QAAQ,MAAM,CAAC;AAG5B,0CAA0C;AAC1C,IAAI,YAAY,CAAC,QAAQ,CAAC,GAAG,CAC3B,CAAC,WAAa,UACd,CAAC;IACC,IAAI,MAAM,QAAQ,EAAE,WAAW,KAAK;QAClC,wCAAmC;YACjC,aAAa,UAAU,CAAC;YACxB,aAAa,UAAU,CAAC;QAC1B;QACA,OAAO,QAAQ,CAAC,IAAI,GAAG;IACzB;IACA,OAAO,QAAQ,MAAM,CAAC;AACxB"}},
    {"offset": {"line": 49, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/voltage/Desktop/solanovatech/frontend/my-app/src/app/components/PropertyForm.js"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { zodResolver } from \"@hookform/resolvers/zod\";\r\nimport { z } from \"zod\";\r\nimport { Upload, X, Plus } from \"lucide-react\";\r\nimport { api } from \"@/lib/api\";\r\nimport toast from \"react-hot-toast\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\n// Update schema to match backend model\r\nconst propertySchema = z.object({\r\n  title: z.string().min(5, \"Title must be at least 5 characters\"),\r\n  description: z.string().min(20, \"Description must be at least 20 characters\"),\r\n  price: z.coerce.number().min(1, \"Price must be greater than 0\"),\r\n  type: z.enum([\"apartment\", \"house\", \"condo\", \"villa\", \"commercial\"]),\r\n  bedrooms: z.coerce.number().min(0).optional(),\r\n  bathrooms: z.coerce.number().min(0).optional(),\r\n  area: z.coerce.number().min(0).optional(),\r\n  location: z.object({\r\n    address: z.string().min(5, \"Address is required\"),\r\n    city: z.string().min(2, \"City is required\"),\r\n    state: z.string().min(2, \"State is required\"),\r\n    zipCode: z.string().optional(),\r\n  }),\r\n  amenities: z.array(z.string()).optional(),\r\n  propertyType: z.string().optional(), // Add this if your model has both\r\n});\r\n\r\nexport default function PropertyForm({ initialData }) {\r\n  const router = useRouter();\r\n  const [images, setImages] = useState([]);\r\n  const [imagePreviews, setImagePreviews] = useState(\r\n    initialData?.images?.map((img) => img.url) || [],\r\n  );\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n    setValue,\r\n    getValues,\r\n    watch,\r\n  } = useForm({\r\n    resolver: zodResolver(propertySchema),\r\n    defaultValues: initialData\r\n      ? {\r\n          ...initialData,\r\n          price: initialData.price,\r\n          type: initialData.type || initialData.propertyType,\r\n        }\r\n      : {\r\n          type: \"apartment\",\r\n          location: {\r\n            address: \"\",\r\n            city: \"\",\r\n            state: \"\",\r\n            zipCode: \"\",\r\n          },\r\n          amenities: [],\r\n        },\r\n  });\r\n\r\n  const handleImageUpload = (e) => {\r\n    const files = Array.from(e.target.files || []);\r\n\r\n    // Validate file types and sizes\r\n    const validFiles = files.filter((file) => {\r\n      const validTypes = [\"image/jpeg\", \"image/png\", \"image/webp\", \"image/gif\"];\r\n      const maxSize = 5 * 1024 * 1024; // 5MB\r\n\r\n      if (!validTypes.includes(file.type)) {\r\n        toast.error(\r\n          `${file.name} is not a valid image type (JPEG, PNG, WebP, GIF only)`,\r\n        );\r\n        return false;\r\n      }\r\n\r\n      if (file.size > maxSize) {\r\n        toast.error(`${file.name} is too large (max 5MB)`);\r\n        return false;\r\n      }\r\n\r\n      return true;\r\n    });\r\n\r\n    if (validFiles.length + images.length > 10) {\r\n      toast.error(\"Maximum 10 images allowed\");\r\n      return;\r\n    }\r\n\r\n    // Create previews\r\n    validFiles.forEach((file) => {\r\n      const reader = new FileReader();\r\n      reader.onload = (e) => {\r\n        setImagePreviews((prev) => [...prev, e.target?.result]);\r\n      };\r\n      reader.readAsDataURL(file);\r\n    });\r\n\r\n    setImages((prev) => [...prev, ...validFiles]);\r\n  };\r\n\r\n  const removeImage = (index) => {\r\n    setImages((prev) => prev.filter((_, i) => i !== index));\r\n    setImagePreviews((prev) => prev.filter((_, i) => i !== index));\r\n  };\r\n\r\n  const addAmenity = () => {\r\n    const input = document.getElementById(\"amenity-input\");\r\n    const amenity = input.value.trim();\r\n    if (amenity) {\r\n      const currentAmenities = getValues(\"amenities\") || [];\r\n      // Check if amenity already exists\r\n      if (!currentAmenities.includes(amenity)) {\r\n        setValue(\"amenities\", [...currentAmenities, amenity]);\r\n        toast.success(\"Amenity added\");\r\n      } else {\r\n        toast.error(\"Amenity already exists\");\r\n      }\r\n      input.value = \"\";\r\n    }\r\n  };\r\n\r\n  const removeAmenity = (index) => {\r\n    const currentAmenities = getValues(\"amenities\") || [];\r\n    setValue(\r\n      \"amenities\",\r\n      currentAmenities.filter((_, i) => i !== index),\r\n    );\r\n  };\r\n\r\n  // In your PropertyForm component - modify the onSubmit function:\r\n  const onSubmit = async (data) => {\r\n    if (images.length === 0 && imagePreviews.length === 0 && !initialData) {\r\n      toast.error(\"Please upload at least one image\");\r\n      return;\r\n    }\r\n\r\n    setIsLoading(true);\r\n\r\n    try {\r\n      const formData = new FormData();\r\n\r\n      // Add simple text fields\r\n      formData.append(\"title\", data.title);\r\n      formData.append(\"description\", data.description);\r\n      formData.append(\"price\", data.price.toString());\r\n      formData.append(\"type\", data.type);\r\n\r\n      // ADD THIS LINE: Set status to published immediately\r\n      formData.append(\"status\", \"published\");\r\n\r\n      // ... rest of your form data ...\r\n\r\n      console.log(\"Creating property...\");\r\n\r\n      let response;\r\n      if (initialData) {\r\n        // Update existing property\r\n        response = await api.put(`/properties/${initialData._id}`, formData, {\r\n          headers: { \"Content-Type\": \"multipart/form-data\" },\r\n        });\r\n        toast.success(\"Property updated successfully\");\r\n      } else {\r\n        // Create new property\r\n        response = await api.post(\"/properties\", formData, {\r\n          headers: { \"Content-Type\": \"multipart/form-data\" },\r\n        });\r\n        toast.success(\"Property created successfully\");\r\n\r\n        // Immediately publish the property\r\n        const propertyId = response.data.data._id;\r\n        try {\r\n          await api.put(`/properties/${propertyId}/publish`);\r\n          toast.success(\"Property published successfully\");\r\n        } catch (publishError) {\r\n          console.error(\"Could not publish:\", publishError);\r\n          toast.error(\"Property created but could not publish automatically\");\r\n        }\r\n      }\r\n\r\n      console.log(\"Response:\", response.data);\r\n\r\n      // Redirect to property page only if it's published\r\n      if (response.data.data?._id) {\r\n        router.push(`/properties/${response.data.data._id}`);\r\n      } else {\r\n        router.push(\"/dashboard/my-properties\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error details:\", error.response?.data || error.message);\r\n      toast.error(\r\n        error.response?.data?.message ||\r\n          \"Failed to save property. Please try again.\",\r\n      );\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n  return (\r\n    <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-8\">\r\n      {/* Basic Information */}\r\n      <div className=\"card p-6\">\r\n        <h2 className=\"text-xl font-bold text-gray-900 mb-6\">\r\n          Basic Information\r\n        </h2>\r\n\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n          <div>\r\n            <label className=\"label\">Property Title*</label>\r\n            <input\r\n              type=\"text\"\r\n              className={`input-field ${errors.title ? \"border-red-500\" : \"\"}`}\r\n              placeholder=\"e.g., Modern 3-Bedroom Apartment\"\r\n              {...register(\"title\")}\r\n            />\r\n            {errors.title && (\r\n              <p className=\"mt-1 text-sm text-red-600\">\r\n                {errors.title.message}\r\n              </p>\r\n            )}\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"label\">Property Type*</label>\r\n            <select\r\n              className={`input-field ${errors.type ? \"border-red-500\" : \"\"}`}\r\n              {...register(\"type\")}\r\n            >\r\n              <option value=\"\">Select type</option>\r\n              <option value=\"apartment\">Apartment</option>\r\n              <option value=\"house\">House</option>\r\n              <option value=\"condo\">Condo</option>\r\n              <option value=\"villa\">Villa</option>\r\n              <option value=\"commercial\">Commercial</option>\r\n            </select>\r\n            {errors.type && (\r\n              <p className=\"mt-1 text-sm text-red-600\">{errors.type.message}</p>\r\n            )}\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"label\">Price* ($)</label>\r\n            <input\r\n              type=\"number\"\r\n              step=\"0.01\"\r\n              className={`input-field ${errors.price ? \"border-red-500\" : \"\"}`}\r\n              placeholder=\"e.g., 250000\"\r\n              {...register(\"price\")}\r\n            />\r\n            {errors.price && (\r\n              <p className=\"mt-1 text-sm text-red-600\">\r\n                {errors.price.message}\r\n              </p>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <div>\r\n              <label className=\"label\">Bedrooms</label>\r\n              <input\r\n                type=\"number\"\r\n                min=\"0\"\r\n                className=\"input-field\"\r\n                placeholder=\"0\"\r\n                {...register(\"bedrooms\")}\r\n              />\r\n            </div>\r\n            <div>\r\n              <label className=\"label\">Bathrooms</label>\r\n              <input\r\n                type=\"number\"\r\n                min=\"0\"\r\n                step=\"0.5\"\r\n                className=\"input-field\"\r\n                placeholder=\"0\"\r\n                {...register(\"bathrooms\")}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"label\">Area (sq ft)</label>\r\n            <input\r\n              type=\"number\"\r\n              min=\"0\"\r\n              className=\"input-field\"\r\n              placeholder=\"e.g., 1500\"\r\n              {...register(\"area\")}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"md:col-span-2\">\r\n            <label className=\"label\">Description*</label>\r\n            <textarea\r\n              className={`input-field min-h-[120px] ${errors.description ? \"border-red-500\" : \"\"}`}\r\n              placeholder=\"Describe your property in detail...\"\r\n              {...register(\"description\")}\r\n            />\r\n            {errors.description && (\r\n              <p className=\"mt-1 text-sm text-red-600\">\r\n                {errors.description.message}\r\n              </p>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Location */}\r\n      <div className=\"card p-6\">\r\n        <h2 className=\"text-xl font-bold text-gray-900 mb-6\">Location</h2>\r\n\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n          <div className=\"md:col-span-2\">\r\n            <label className=\"label\">Address*</label>\r\n            <input\r\n              type=\"text\"\r\n              className={`input-field ${errors.location?.address ? \"border-red-500\" : \"\"}`}\r\n              placeholder=\"Street address\"\r\n              {...register(\"location.address\")}\r\n            />\r\n            {errors.location?.address && (\r\n              <p className=\"mt-1 text-sm text-red-600\">\r\n                {errors.location.address.message}\r\n              </p>\r\n            )}\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"label\">City*</label>\r\n            <input\r\n              type=\"text\"\r\n              className={`input-field ${errors.location?.city ? \"border-red-500\" : \"\"}`}\r\n              placeholder=\"City\"\r\n              {...register(\"location.city\")}\r\n            />\r\n            {errors.location?.city && (\r\n              <p className=\"mt-1 text-sm text-red-600\">\r\n                {errors.location.city.message}\r\n              </p>\r\n            )}\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"label\">State*</label>\r\n            <input\r\n              type=\"text\"\r\n              className={`input-field ${errors.location?.state ? \"border-red-500\" : \"\"}`}\r\n              placeholder=\"State\"\r\n              {...register(\"location.state\")}\r\n            />\r\n            {errors.location?.state && (\r\n              <p className=\"mt-1 text-sm text-red-600\">\r\n                {errors.location.state.message}\r\n              </p>\r\n            )}\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"label\">ZIP Code</label>\r\n            <input\r\n              type=\"text\"\r\n              className=\"input-field\"\r\n              placeholder=\"ZIP code\"\r\n              {...register(\"location.zipCode\")}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Images */}\r\n      <div className=\"card p-6\">\r\n        <h2 className=\"text-xl font-bold text-gray-900 mb-6\">Images</h2>\r\n        <p className=\"text-gray-600 mb-4\">\r\n          Upload high-quality photos of your property (max 10 images, 5MB each)\r\n        </p>\r\n\r\n        <div className=\"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4\">\r\n          {/* Image upload button */}\r\n          <label className=\"relative cursor-pointer\">\r\n            <input\r\n              type=\"file\"\r\n              multiple\r\n              accept=\"image/jpeg,image/png,image/webp,image/gif\"\r\n              className=\"hidden\"\r\n              onChange={handleImageUpload}\r\n            />\r\n            <div className=\"aspect-square border-2 border-dashed border-gray-300 rounded-lg hover:border-primary-500 transition-colors flex flex-col items-center justify-center p-4\">\r\n              <Upload className=\"w-8 h-8 text-gray-400 mb-2\" />\r\n              <span className=\"text-sm text-gray-600 text-center\">\r\n                Upload Images ({images.length + imagePreviews.length}/10)\r\n              </span>\r\n            </div>\r\n          </label>\r\n\r\n          {/* Image previews */}\r\n          {imagePreviews.map((preview, index) => (\r\n            <div key={index} className=\"relative aspect-square group\">\r\n              <img\r\n                src={preview}\r\n                alt={`Preview ${index + 1}`}\r\n                className=\"w-full h-full object-cover rounded-lg\"\r\n              />\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => removeImage(index)}\r\n                className=\"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors\"\r\n              >\r\n                <X className=\"w-4 h-4\" />\r\n              </button>\r\n              {index === 0 && (\r\n                <div className=\"absolute bottom-2 left-2 bg-primary-600 text-white px-2 py-1 rounded text-xs font-semibold\">\r\n                  Primary\r\n                </div>\r\n              )}\r\n            </div>\r\n          ))}\r\n        </div>\r\n        {images.length === 0 && imagePreviews.length === 0 && (\r\n          <p className=\"mt-4 text-red-500 text-sm\">\r\n            At least one image is required\r\n          </p>\r\n        )}\r\n      </div>\r\n\r\n      {/* Amenities */}\r\n      <div className=\"card p-6\">\r\n        <h2 className=\"text-xl font-bold text-gray-900 mb-6\">Amenities</h2>\r\n\r\n        <div className=\"flex mb-4\">\r\n          <input\r\n            id=\"amenity-input\"\r\n            type=\"text\"\r\n            className=\"input-field flex-1 mr-2\"\r\n            placeholder=\"e.g., Swimming Pool, Gym, Parking\"\r\n            onKeyPress={(e) => {\r\n              if (e.key === \"Enter\") {\r\n                e.preventDefault();\r\n                addAmenity();\r\n              }\r\n            }}\r\n          />\r\n          <button\r\n            type=\"button\"\r\n            onClick={addAmenity}\r\n            className=\"btn-secondary flex items-center\"\r\n          >\r\n            <Plus className=\"w-4 h-4 mr-2\" />\r\n            Add\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"flex flex-wrap gap-2\">\r\n          {getValues(\"amenities\")?.map((amenity, index) => (\r\n            <div\r\n              key={index}\r\n              className=\"flex items-center bg-gray-100 px-3 py-1 rounded-full hover:bg-gray-200 transition-colors\"\r\n            >\r\n              <span className=\"text-sm\">{amenity}</span>\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => removeAmenity(index)}\r\n                className=\"ml-2 text-gray-500 hover:text-red-500\"\r\n              >\r\n                <X className=\"w-3 h-3\" />\r\n              </button>\r\n            </div>\r\n          ))}\r\n          {(!getValues(\"amenities\") || getValues(\"amenities\").length === 0) && (\r\n            <p className=\"text-gray-500 text-sm\">No amenities added yet</p>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Submit Button */}\r\n      <div className=\"flex justify-end space-x-4\">\r\n        <button\r\n          type=\"button\"\r\n          onClick={() => router.back()}\r\n          className=\"btn-secondary\"\r\n          disabled={isLoading}\r\n        >\r\n          Cancel\r\n        </button>\r\n        <button type=\"submit\" disabled={isLoading} className=\"btn-primary\">\r\n          {isLoading ? (\r\n            <span className=\"flex items-center\">\r\n              <svg\r\n                className=\"animate-spin -ml-1 mr-2 h-4 w-4 text-white\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                fill=\"none\"\r\n                viewBox=\"0 0 24 24\"\r\n              >\r\n                <circle\r\n                  className=\"opacity-25\"\r\n                  cx=\"12\"\r\n                  cy=\"12\"\r\n                  r=\"10\"\r\n                  stroke=\"currentColor\"\r\n                  strokeWidth=\"4\"\r\n                ></circle>\r\n                <path\r\n                  className=\"opacity-75\"\r\n                  fill=\"currentColor\"\r\n                  d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\r\n                ></path>\r\n              </svg>\r\n              Saving...\r\n            </span>\r\n          ) : initialData ? (\r\n            \"Update Property\"\r\n          ) : (\r\n            \"Create Property\"\r\n          )}\r\n        </button>\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1049, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/voltage/Desktop/solanovatech/frontend/my-app/src/app/components/ProtectedRoute.js"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport useAuthStore from \"@/app/store/useAuthStore\";\r\n\r\nexport default function ProtectedRoute({ children, allowedRoles = [] }) {\r\n  const router = useRouter();\r\n  const { isAuthenticated, user } = useAuthStore();\r\n\r\n  useEffect(() => {\r\n    if (!isAuthenticated) {\r\n      router.push(\"/login\");\r\n      return;\r\n    }\r\n\r\n    if (allowedRoles.length > 0 && user && !allowedRoles.includes(user.role)) {\r\n      router.push(\"/\");\r\n    }\r\n  }, [isAuthenticated, user, allowedRoles, router]);\r\n\r\n  if (\r\n    !isAuthenticated ||\r\n    (allowedRoles.length > 0 && user && !allowedRoles.includes(user.role))\r\n  ) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-screen\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto\"></div>\r\n          <p className=\"mt-4 text-gray-600\">Checking authentication...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return <>{children}</>;\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAMe,SAAS,eAAe,EAAE,QAAQ,EAAE,eAAe,EAAE,EAAE;;IACpE,MAAM,SAAS,IAAA,sMAAS;IACxB,MAAM,EAAE,eAAe,EAAE,IAAI,EAAE,GAAG,IAAA,qMAAY;IAE9C,IAAA,8NAAS;oCAAC;YACR,IAAI,CAAC,iBAAiB;gBACpB,OAAO,IAAI,CAAC;gBACZ;YACF;YAEA,IAAI,aAAa,MAAM,GAAG,KAAK,QAAQ,CAAC,aAAa,QAAQ,CAAC,KAAK,IAAI,GAAG;gBACxE,OAAO,IAAI,CAAC;YACd;QACF;mCAAG;QAAC;QAAiB;QAAM;QAAc;KAAO;IAEhD,IACE,CAAC,mBACA,aAAa,MAAM,GAAG,KAAK,QAAQ,CAAC,aAAa,QAAQ,CAAC,KAAK,IAAI,GACpE;QACA,qBACE,iPAAC;YAAI,WAAU;sBACb,cAAA,iPAAC;gBAAI,WAAU;;kCACb,iPAAC;wBAAI,WAAU;;;;;;kCACf,iPAAC;wBAAE,WAAU;kCAAqB;;;;;;;;;;;;;;;;;IAI1C;IAEA,qBAAO;kBAAG;;AACZ;GA9BwB;;QACP,sMAAS;QACU,qMAAY;;;KAFxB"}},
    {"offset": {"line": 1136, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/voltage/Desktop/solanovatech/frontend/my-app/src/app/properties/create/page.js"],"sourcesContent":["\"use client\";\r\n\r\nimport PropertyForm from \"@/app/components/PropertyForm\";\r\nimport ProtectedRoute from \"@/app/components/ProtectedRoute\";\r\nimport { Home } from \"lucide-react\";\r\n\r\nexport default function CreatePropertyPage() {\r\n  return (\r\n    <ProtectedRoute allowedRoles={[\"owner\"]}>\r\n      <div className=\"max-w-6xl mx-auto\">\r\n        <div className=\"mb-8\">\r\n          <div className=\"flex items-center mb-4\">\r\n            <Home className=\"w-8 h-8 text-primary-600 mr-3\" />\r\n            <h1 className=\"text-3xl font-bold text-gray-900\">\r\n              List New Property\r\n            </h1>\r\n          </div>\r\n          <p className=\"text-gray-600\">\r\n            Fill in the details below to list your property\r\n          </p>\r\n        </div>\r\n\r\n        <PropertyForm />\r\n      </div>\r\n    </ProtectedRoute>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS;IACtB,qBACE,iPAAC,4MAAc;QAAC,cAAc;YAAC;SAAQ;kBACrC,cAAA,iPAAC;YAAI,WAAU;;8BACb,iPAAC;oBAAI,WAAU;;sCACb,iPAAC;4BAAI,WAAU;;8CACb,iPAAC,kQAAI;oCAAC,WAAU;;;;;;8CAChB,iPAAC;oCAAG,WAAU;8CAAmC;;;;;;;;;;;;sCAInD,iPAAC;4BAAE,WAAU;sCAAgB;;;;;;;;;;;;8BAK/B,iPAAC,0MAAY;;;;;;;;;;;;;;;;AAIrB;KApBwB"}}]
}