{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 106, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/voltage/Desktop/solanovatech/frontend/my-app/src/lib/api.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nexport const API_URL =\r\n  process.env.NEXT_PUBLIC_API_URL || \"http://localhost:5000/api\";\r\n\r\nexport const api = axios.create({\r\n  baseURL: API_URL,\r\n  headers: {\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n  withCredentials: true,\r\n});\r\n\r\n// Request interceptor to add token\r\napi.interceptors.request.use(\r\n  (config) => {\r\n    if (typeof window !== \"undefined\") {\r\n      const token = localStorage.getItem(\"token\");\r\n      if (token) {\r\n        config.headers.Authorization = `Bearer ${token}`;\r\n      }\r\n    }\r\n    return config;\r\n  },\r\n  (error) => Promise.reject(error),\r\n);\r\n\r\n// Response interceptor for error handling\r\napi.interceptors.response.use(\r\n  (response) => response,\r\n  (error) => {\r\n    if (error.response?.status === 401) {\r\n      if (typeof window !== \"undefined\") {\r\n        localStorage.removeItem(\"token\");\r\n        localStorage.removeItem(\"user\");\r\n      }\r\n      window.location.href = \"/login\";\r\n    }\r\n    return Promise.reject(error);\r\n  },\r\n);\r\n"],"names":[],"mappings":";;;;;;AAAA;;AAEO,MAAM,UACX,iEAAmC;AAE9B,MAAM,MAAM,oMAAK,CAAC,MAAM,CAAC;IAC9B,SAAS;IACT,SAAS;QACP,gBAAgB;IAClB;IACA,iBAAiB;AACnB;AAEA,mCAAmC;AACnC,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAC1B,CAAC;IACC;;IAMA,OAAO;AACT,GACA,CAAC,QAAU,QAAQ,MAAM,CAAC;AAG5B,0CAA0C;AAC1C,IAAI,YAAY,CAAC,QAAQ,CAAC,GAAG,CAC3B,CAAC,WAAa,UACd,CAAC;IACC,IAAI,MAAM,QAAQ,EAAE,WAAW,KAAK;QAClC;;QAIA,OAAO,QAAQ,CAAC,IAAI,GAAG;IACzB;IACA,OAAO,QAAQ,MAAM,CAAC;AACxB"}},
    {"offset": {"line": 141, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/voltage/Desktop/solanovatech/frontend/my-app/src/app/login/page.js"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport Link from \"next/link\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { zodResolver } from \"@hookform/resolvers/zod\";\r\nimport { z } from \"zod\";\r\nimport useAuthStore from \"@/app/store/useAuthStore\";\r\nimport { api } from \"@/lib/api\";\r\nimport toast from \"react-hot-toast\";\r\nimport { LogIn } from \"lucide-react\";\r\n\r\nconst loginSchema = z.object({\r\n  email: z.string().email(\"Invalid email address\"),\r\n  password: z.string().min(6, \"Password must be at least 6 characters\"),\r\n});\r\n\r\nexport default function LoginPage() {\r\n  const router = useRouter();\r\n  const { login } = useAuthStore();\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n  } = useForm({\r\n    resolver: zodResolver(loginSchema),\r\n  });\r\n\r\n  const onSubmit = async (data) => {\r\n    setIsLoading(true);\r\n    try {\r\n      const response = await api.post(\"/auth/login\", data);\r\n      const { token, user } = response.data;\r\n\r\n      login(token, user);\r\n      localStorage.setItem(\"token\", token);\r\n      localStorage.setItem(\"user\", JSON.stringify(user));\r\n\r\n      toast.success(\"Login successful!\");\r\n\r\n      // Redirect based on role\r\n      if (user.role === \"admin\") {\r\n        router.push(\"/dashboard/admin\");\r\n      } else if (user.role === \"owner\") {\r\n        router.push(\"/dashboard/owner\");\r\n      } else {\r\n        router.push(\"/dashboard/user\");\r\n      }\r\n    } catch (error) {\r\n      toast.error(error.response?.data?.message || \"Login failed\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-md mx-auto\">\r\n      <div className=\"text-center mb-8\">\r\n        <LogIn className=\"w-12 h-12 text-primary-600 mx-auto mb-4\" />\r\n        <h1 className=\"text-3xl font-bold text-gray-900\">Welcome Back</h1>\r\n        <p className=\"text-gray-600 mt-2\">Sign in to your account</p>\r\n      </div>\r\n\r\n      <div className=\"card p-6\">\r\n        <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-6\">\r\n          <div>\r\n            <label className=\"label\">Email</label>\r\n            <input\r\n              type=\"email\"\r\n              className=\"input-field\"\r\n              placeholder=\"Enter your email\"\r\n              {...register(\"email\")}\r\n            />\r\n            {errors.email && (\r\n              <p className=\"mt-1 text-sm text-red-600\">\r\n                {errors.email.message}\r\n              </p>\r\n            )}\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"label\">Password</label>\r\n            <input\r\n              type=\"password\"\r\n              className=\"input-field\"\r\n              placeholder=\"Enter your password\"\r\n              {...register(\"password\")}\r\n            />\r\n            {errors.password && (\r\n              <p className=\"mt-1 text-sm text-red-600\">\r\n                {errors.password.message}\r\n              </p>\r\n            )}\r\n          </div>\r\n\r\n          <button\r\n            type=\"submit\"\r\n            disabled={isLoading}\r\n            className=\"btn-primary w-full\"\r\n          >\r\n            {isLoading ? \"Signing in...\" : \"Sign In\"}\r\n          </button>\r\n        </form>\r\n\r\n        <div className=\"mt-6 text-center\">\r\n          <p className=\"text-gray-600\">\r\n            Don't have an account?{\" \"}\r\n            <Link\r\n              href=\"/register\"\r\n              className=\"text-primary-600 hover:text-primary-800\"\r\n            >\r\n              Register here\r\n            </Link>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAXA;;;;;;;;;;;;AAaA,MAAM,cAAc,sOAAC,CAAC,MAAM,CAAC;IAC3B,OAAO,sOAAC,CAAC,MAAM,GAAG,KAAK,CAAC;IACxB,UAAU,sOAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;AAC9B;AAEe,SAAS;IACtB,MAAM,SAAS,IAAA,mMAAS;IACxB,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,kMAAY;IAC9B,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,qQAAQ,EAAC;IAE3C,MAAM,EACJ,QAAQ,EACR,YAAY,EACZ,WAAW,EAAE,MAAM,EAAE,EACtB,GAAG,IAAA,6NAAO,EAAC;QACV,UAAU,IAAA,iOAAW,EAAC;IACxB;IAEA,MAAM,WAAW,OAAO;QACtB,aAAa;QACb,IAAI;YACF,MAAM,WAAW,MAAM,4KAAG,CAAC,IAAI,CAAC,eAAe;YAC/C,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,GAAG,SAAS,IAAI;YAErC,MAAM,OAAO;YACb,aAAa,OAAO,CAAC,SAAS;YAC9B,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC;YAE5C,sNAAK,CAAC,OAAO,CAAC;YAEd,yBAAyB;YACzB,IAAI,KAAK,IAAI,KAAK,SAAS;gBACzB,OAAO,IAAI,CAAC;YACd,OAAO,IAAI,KAAK,IAAI,KAAK,SAAS;gBAChC,OAAO,IAAI,CAAC;YACd,OAAO;gBACL,OAAO,IAAI,CAAC;YACd;QACF,EAAE,OAAO,OAAO;YACd,sNAAK,CAAC,KAAK,CAAC,MAAM,QAAQ,EAAE,MAAM,WAAW;QAC/C,SAAU;YACR,aAAa;QACf;IACF;IAEA,qBACE,kSAAC;QAAI,WAAU;;0BACb,kSAAC;gBAAI,WAAU;;kCACb,kSAAC,qQAAK;wBAAC,WAAU;;;;;;kCACjB,kSAAC;wBAAG,WAAU;kCAAmC;;;;;;kCACjD,kSAAC;wBAAE,WAAU;kCAAqB;;;;;;;;;;;;0BAGpC,kSAAC;gBAAI,WAAU;;kCACb,kSAAC;wBAAK,UAAU,aAAa;wBAAW,WAAU;;0CAChD,kSAAC;;kDACC,kSAAC;wCAAM,WAAU;kDAAQ;;;;;;kDACzB,kSAAC;wCACC,MAAK;wCACL,WAAU;wCACV,aAAY;wCACX,GAAG,SAAS,QAAQ;;;;;;oCAEtB,OAAO,KAAK,kBACX,kSAAC;wCAAE,WAAU;kDACV,OAAO,KAAK,CAAC,OAAO;;;;;;;;;;;;0CAK3B,kSAAC;;kDACC,kSAAC;wCAAM,WAAU;kDAAQ;;;;;;kDACzB,kSAAC;wCACC,MAAK;wCACL,WAAU;wCACV,aAAY;wCACX,GAAG,SAAS,WAAW;;;;;;oCAEzB,OAAO,QAAQ,kBACd,kSAAC;wCAAE,WAAU;kDACV,OAAO,QAAQ,CAAC,OAAO;;;;;;;;;;;;0CAK9B,kSAAC;gCACC,MAAK;gCACL,UAAU;gCACV,WAAU;0CAET,YAAY,kBAAkB;;;;;;;;;;;;kCAInC,kSAAC;wBAAI,WAAU;kCACb,cAAA,kSAAC;4BAAE,WAAU;;gCAAgB;gCACJ;8CACvB,kSAAC,2NAAI;oCACH,MAAK;oCACL,WAAU;8CACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQb"}}]
}